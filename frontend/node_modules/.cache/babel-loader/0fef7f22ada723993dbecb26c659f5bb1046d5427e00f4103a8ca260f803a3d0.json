{"ast":null,"code":"export const BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\nexport async function fetchHistory() {\n  const res = await fetch(`${BASE_URL}/history`);\n  if (!res.ok) throw new Error('Could not fetch history');\n  return res.json();\n}\nexport async function sendMessage(text) {\n  const res = await fetch(`${BASE_URL}/message`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      text\n    })\n  });\n  if (!res.ok) {\n    const err = await res.json().catch(() => ({\n      error: 'unknown'\n    }));\n    throw new Error((err === null || err === void 0 ? void 0 : err.error) || 'Send message failed');\n  }\n  return res.json();\n}","map":{"version":3,"names":["BASE_URL","process","env","REACT_APP_API_URL","fetchHistory","res","fetch","ok","Error","json","sendMessage","text","method","headers","body","JSON","stringify","err","catch","error"],"sources":["D:/intern_assigment/frontend/src/api.js"],"sourcesContent":["export const BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\r\n\r\n\r\nexport async function fetchHistory() {\r\n  const res = await fetch(`${BASE_URL}/history`);\r\n  if (!res.ok) throw new Error('Could not fetch history');\r\n  return res.json();\r\n}\r\n\r\nexport async function sendMessage(text) {\r\n  const res = await fetch(`${BASE_URL}/message`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ text })\r\n  });\r\n  if (!res.ok) {\r\n    const err = await res.json().catch(()=>({error:'unknown'}));\r\n    throw new Error(err?.error || 'Send message failed');\r\n  }\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAGhF,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACnC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGN,QAAQ,UAAU,CAAC;EAC9C,IAAI,CAACK,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACvD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,WAAWA,CAACC,IAAI,EAAE;EACtC,MAAMN,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGN,QAAQ,UAAU,EAAE;IAC7CY,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEL;IAAK,CAAC;EAC/B,CAAC,CAAC;EACF,IAAI,CAACN,GAAG,CAACE,EAAE,EAAE;IACX,MAAMU,GAAG,GAAG,MAAMZ,GAAG,CAACI,IAAI,CAAC,CAAC,CAACS,KAAK,CAAC,OAAK;MAACC,KAAK,EAAC;IAAS,CAAC,CAAC,CAAC;IAC3D,MAAM,IAAIX,KAAK,CAAC,CAAAS,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEE,KAAK,KAAI,qBAAqB,CAAC;EACtD;EACA,OAAOd,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}